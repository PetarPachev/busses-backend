{"version":3,"sources":["webpack/bootstrap","./node_modules/@angular/router/router.d.ts.Éµangular_packages_router_router_l.html","./src/app/app-routing.module.ts","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/app.server.module.ts","./src/app/constants.ts","./src/app/modules/auth/auth.module.ts","./src/app/modules/auth/auth.routing.module.ts","./src/app/modules/auth/components/login/login.component.html","./src/app/modules/auth/components/login/login.component.ts","./src/app/modules/auth/components/register/register.component.html","./src/app/modules/auth/components/register/register.component.ts","./src/app/modules/auth/services/auth.service.ts","./src/app/modules/busses/busses.module.ts","./src/app/modules/busses/busses.routing.module.ts","./src/app/modules/busses/components/admin/admin.component.html","./src/app/modules/busses/components/admin/admin.component.ts","./src/app/modules/busses/components/busses/busses.component.html","./src/app/modules/busses/components/busses/busses.component.ts","./src/app/modules/busses/components/lines/lines.component.html","./src/app/modules/busses/components/lines/lines.component.ts","./src/app/modules/busses/services/busses.service.ts","./src/app/modules/shared/config/constants.config.ts","./src/app/modules/shared/guards/auth.guard.ts","./src/app/modules/shared/guards/unauth.guard.ts","./src/app/modules/shared/interceptors/jwt.interceptor.ts","./src/app/modules/shared/models/localStorage.model.ts","./src/app/modules/shared/providers/constants.providers.ts","./src/app/modules/shared/services/storage.service.ts","./src/app/modules/shared/shared.module.ts","./src/main.server.ts","external \"@angular/animations\"","external \"@angular/animations/browser\"","external \"@angular/common\"","external \"@angular/common/http\"","external \"@angular/core\"","external \"@angular/forms\"","external \"@angular/platform-browser\"","external \"@angular/platform-browser/animations\"","external \"@angular/platform-server\"","external \"@angular/router\"","external \"@nguniversal/module-map-ngfactory-loader\"","external \"rxjs/operators\""],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;4EClFA,6SAAe;;;;;;;;;;;;;;;;;;;;ACCf,+EAAuD;WAKrC,GAAG,EAAE,CAAC,iJAAqC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,oBAAW,CAAC,OAIlE,GAAG,EAAE,CAAC,yJAAyC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,sBAAa,CAAC;;;AAP1F,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,YAAY,IAAoE;KACjF;IACD;QACE,IAAI,EAAE,QAAQ;QACd,YAAY,IAA0E;KACvF;CACF,CAAC;AAEF,MAIa,gBAAgB;CAAG;AAJhC,4CAIgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;uDClBhC,6SAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEf,MAKa,YAAY;IALzB;QAME,UAAK,GAAG,QAAQ,CAAC;IACnB,CAAC;CAAA;AAPD,oCAOC;;;;;;;;;;;;;;;ACDD,MAaa,SAAS;CAAI;AAb1B,8BAa0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACd1B,MASa,eAAe;CAAG;AAT/B,0CAS+B;;;;;;;;;;;;;;;AChBlB,eAAO,GAAW,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACQxC,MAKa,UAAU;CAAG;AAL1B,gCAK0B;;;;;;;;;;;;;;;ACZ1B,+EAAuD;AAEvD,sJAAoE;AACpE,qKAA6E;AAC7E,mIAA4D;AAE5D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,UAAU,EAAE,OAAO;KACpB;IACD;QACE,IAAI,EAAE,OAAO;QACb,SAAS,EAAE,gCAAc;QACzB,WAAW,EAAE,CAAC,0BAAW,CAAC;KAC3B;IACD;QACE,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,sCAAiB;QAC5B,WAAW,EAAE,CAAC,0BAAW,CAAC;KAC3B;CACF,CAAC;AAEF,MAIa,iBAAiB;CAAG;AAJjC,8CAIiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yDC5BjC,iHAAqC,KACnC,sGAA0B,KACxB,mGAAwB,uCAAK,MAE7B;;;;;;8XAA8B,IAC5B,mGAAwB,KACtB,qGAAyB,+CAAa,MACtC;;;;;;;;;;;;imBAAuG,IAEzG,oGAAwB,KACtB,wGAA4B,0CAAQ,MACpC;;;;;;;;;;;;imBAAoH,IAEtH,4LAA8F,YAApB;;wBAAmB;MAA7F,wBAA8F,uCAAK,MACnG;;;4LAA8E,GAA7B,aAA4B,IAAC,qCAAQ,mDAVlF,mBAAuB,YAA7B,YAA8B,EAAxB,SAAuB,GAGqD,wBAAuB,EAArG,aAAuG,EAAzB,UAAuB,GAId,2BAA0B,EAAjH,aAAoH,EAA7B,UAA0B,GAGlE,2CAA4B,GAA7E,aAA8E,EAA7B,UAA4B,mDAV/E,iaAA8B,GAG1B,mbAAuG,GAIvG,ubAAoH,GAE1E,qBAA6B,kBAAzE,aAA8F,EAAlD,UAA6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACb/E,yEAAkD;AAClD,4EAAoE;AAIpE,MAMa,cAAc;IAMzB,YACmB,WAAwB,EACxB,MAAc;QADd,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QAPjC,cAAS,GAAc,IAAI,iBAAS,CAAC;YACnC,KAAK,EAAE,IAAI,mBAAW,CAAC,EAAE,EAAE,CAAC,kBAAU,CAAC,QAAQ,EAAE,kBAAU,CAAC,KAAK,CAAC,CAAC;YACnE,QAAQ,EAAE,IAAI,mBAAW,CAAC,EAAE,EAAE,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;SACrD,CAAC,CAAC;IAKC,CAAC;IAEL,QAAQ,KAAK,CAAC;IAEd,OAAO;QACL,MAAM,KAAK,GAAW,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;QAC7D,MAAM,QAAQ,GAAW,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;QAEnE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC;aACpC,SAAS,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;CACF;AA5BD,wCA4BC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4DCjCD,iHAAqC,KACnC,sGAA0B,KACxB,mGAAwB,0CAAQ,MAEhC;;;;;;8XAAiC,IAC/B,mGAAwB,KACtB,wGAA4B,+CAAa,MACzC;;;;;;;;;;;;imBAA2G,IAE7G,oGAAwB,KACtB,2GAA+B,0CAAQ,MACvC;;;;;;;;;;;;imBAAuH,IAEzH,oGAAwB,KACtB,mHAAuC,kDAAgB,MACvD;;;;;;;;;;;;imBAA8I,IAEhJ,4LAAoG,YAAvB;;wBAAsB;MAAnG,wBAAoG,0CAAQ,MAC5G;;;4LAA2E,GAA1B,aAAyB,IAAC,kCAAK,mDAd5E,mBAA0B,eAAhC,YAAiC,EAA3B,SAA0B,GAGqD,wBAAuB,EAAxG,aAA2G,EAA1B,UAAuB,GAId,2BAA0B,EAApH,aAAuH,EAA7B,UAA0B,GAIV,kCAAiC,EAA3I,aAA8I,EAApC,UAAiC,GAG5F,wCAAyB,GAA1E,aAA2E,EAA1B,UAAyB,mDAd5E,iaAAiC,GAG7B,mbAA2G,GAI3G,ubAAuH,GAIvH,ubAA8I,GAEpG,qBAAgC,qBAA5E,aAAoG,EAAxD,UAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBlF,yEAAkD;AAClD,4EAAoE;AAIpE,MAMa,iBAAiB;IAO5B,YACmB,WAAwB,EACxB,MAAc;QADd,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QARjC,iBAAY,GAAc,IAAI,iBAAS,CAAC;YACtC,KAAK,EAAE,IAAI,mBAAW,CAAC,EAAE,EAAE,CAAC,kBAAU,CAAC,QAAQ,EAAE,kBAAU,CAAC,KAAK,CAAC,CAAC;YACnE,QAAQ,EAAE,IAAI,mBAAW,CAAC,EAAE,EAAE,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;YACpD,eAAe,EAAE,IAAI,mBAAW,CAAC,EAAE,EAAE,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;SAC5D,CAAC,CAAC;IAKC,CAAC;IAEL,QAAQ,KAAK,CAAC;IAEd,UAAU;QACR,MAAM,KAAK,GAAW,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;QAChE,MAAM,QAAQ,GAAW,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;QACtE,MAAM,eAAe,GAAW,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC;QAEpF,IAAI,QAAQ,KAAK,eAAe,EAAE;YAChC,OAAO;SACR;QAED,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC;aACvC,SAAS,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;CACF;AAlCD,8CAkCC;;;;;;;;;;;;;;;ACpCD,gFAAqC;AAKrC,4FAA6C;AAE7C,MACa,WAAW;IACtB,YACmB,UAAsB,EACtB,SAAoB,EACpB,cAA8B;QAF9B,eAAU,GAAV,UAAU,CAAY;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,mBAAc,GAAd,cAAc,CAAgB;IAC7C,CAAC;IAEL,QAAQ,CAAC,KAAa,EAAE,QAAgB;QACtC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,oBAAoB,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,CAClH,eAAG,CAAC,QAAQ,CAAC,EAAE;YACb,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,mBAAO,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;YAErD,OAAO,QAAQ,CAAC;QAClB,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,KAAa,EAAE,QAAgB;QACnC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,oBAAoB,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,CAClH,eAAG,CAAC,QAAQ,CAAC,EAAE;YACb,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,mBAAO,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;YAErD,OAAO,QAAQ,CAAC;QAClB,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;CACF;AA3BD,kCA2BC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BD,MAca,YAAY;CAAG;AAd5B,oCAc4B;;;;;;;;;;;;;;;ACtB5B,+EAAuD;AAEvD,6JAAuE;AACvE,6HAAwD;AACxD,wJAAoE;AAEpE,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kCAAe;QAC1B,WAAW,EAAE,CAAC,sBAAS,CAAC;KACzB;IACD;QACE,IAAI,EAAE,OAAO;QACb,SAAS,EAAE,gCAAc;QACzB,WAAW,EAAE,CAAC,sBAAS,CAAC;KACzB;CACF,CAAC;AAEF,MAQa,mBAAmB;CAAG;AARnC,kDAQmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yDCnBnC,4FAAoD,KAClD,+FAAoB,yIAAgB;kGAVtC,4FAAiB,KACf,8FAAmB,KACjB,8KAA4E,KAE9E,8FAAmB,KACjB,6LAAiF,YAAzB;;wBAAwB;MAAhF,wBAAiF,6CAAW,MAIhG,4MAAoD,GAAnC,mKAAkC,UAAnD,YAAoD,EAAnC,SAAkC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTnD,yEAAyE;AAMzE,MAMa,cAAc;IAKzB,YACmB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;IAC3C,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,YAAY;QACV,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC;QAEjD,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,CAAC;aACrC,SAAS,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,SAAS,EAAE,CAAC;QACnB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,SAAS;QACP,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;IAC7C,CAAC;IAED,IAAI;QACF,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;CACF;AAnCD,wCAmCC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0DCzCD,oOAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAX,yEAAkD;AAGlD,MAMa,eAAe;IAC1B,YACmB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;IAC3C,CAAC;IAEL,QAAQ;IAER,CAAC;CACF;AAdD,0CAcC;;;;;;;;;;;;;;;;;;;;;;;;;;;;yDCjBD,0EAA8B,KAC5B,kGAAuB,mIAAU;yDADnC,4MAA8B,iDAA3B,mBAA0B,QAA7B,YAA8B,EAA3B,SAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA7B,yEAAkD;AAElD,MAKa,cAAc;IAGzB;QAFA,UAAK,GAAa,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IAEtH,CAAC;IAEhB,QAAQ,KAAI,CAAC;CACd;AAXD,wCAWC;;;;;;;;;;;;;;;ACGD,MACa,aAAa;IACxB,YACmB,UAAsB,EACtB,SAAoB;QADpB,eAAU,GAAV,UAAU,CAAY;QACtB,cAAS,GAAT,SAAS,CAAW;IACnC,CAAC;IAEL,SAAS,CAAC,YAA0B;QAClC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAe,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,SAAS,EAAE,YAAY,CAAC,CAAC;IAC7F,CAAC;IAED,SAAS,CAAC,EAAU;QAClB,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAe,QAAQ,EAAG,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAC,CAAC,CAAC;IAC9G,CAAC;IAED,SAAS,CAAC,MAAe;QACvB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,aAAa,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;IACjG,CAAC;IAED,MAAM,CAAC,EAAU;QACf,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAe,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,WAAW,EAAE,EAAE,CAAC,CAAC;IACpF,CAAC;IAED,oBAAoB,CAAC,uBAAgD;QACnE,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAA0B,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,iBAAiB,EAAE,uBAAuB,CAAC,CAAC;IAC3H,CAAC;IAED,oBAAoB,CAAC,EAAU;QAC7B,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAA0B,QAAQ,EAAG,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,iBAAiB,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAC,CAAC,CAAC;IACjI,CAAC;IAED,wBAAwB,CAAC,KAAa;QACpC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAA4B,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,0BAA0B,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC;IACxH,CAAC;IAED,4BAA4B,CAAC,SAAiB;QAC5C,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAA4B,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,wBAAwB,EAAE,EAAE,SAAS,EAAE,CAAC,CAAC;IAC1H,CAAC;IAED,aAAa,CAAC,gBAAkC;QAC9C,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,WAAW,EAAE,gBAAgB,CAAC,CAAC;IACvG,CAAC;IAED,aAAa,CAAC,EAAU;QACtB,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAmB,QAAQ,EAAG,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,UAAU,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAC,CAAC,CAAC;IACnH,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAqB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,WAAW,CAAC,CAAC;QAAA,CAAC;IACvF,CAAC;IAED,UAAU,CAAC,EAAU;QACnB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,aAAa,EAAE,EAAE,CAAC,CAAC;IAC1F,CAAC;IAED,UAAU,CAAC,aAA4B;QACrC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,QAAQ,EAAE,aAAa,CAAC,CAAC;IAC9F,CAAC;IAED,UAAU,CAAC,EAAU;QACnB,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAgB,QAAQ,EAAG,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,QAAQ,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAC,CAAC,CAAC;IAC9G,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,QAAQ,CAAC,CAAC;QAAA,CAAC;IACjF,CAAC;IAED,OAAO,CAAC,EAAU;QAChB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,UAAU,EAAE,EAAE,CAAC,CAAC;IACpF,CAAC;IAED,iBAAiB,CAAC,oBAA0C;QAC1D,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAuB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,cAAc,EAAE,oBAAoB,CAAC,CAAC;IAClH,CAAC;IAED,iBAAiB,CAAC,EAAU;QAC1B,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAuB,QAAQ,EAAG,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,cAAc,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAC,CAAC,CAAC;IAC3H,CAAC;CACF;AA9ED,sCA8EC;;;;;;;;;;;;;;;AC9FD,MAAa,SAAS;IAAtB;QACE,WAAM,GAAW,2BAA2B,CAAC;IAC/C,CAAC;CAAA;AAFD,8BAEC;;;;;;;;;;;;;;;ACED,4FAA6C;AAE7C,MACa,SAAS;IACpB,YACmB,MAAc,EACd,cAA8B;QAD9B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;IAC7C,CAAC;IAEL,WAAW,CAAC,KAA6B,EAAE,KAA0B;QACnE,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,mBAAO,CAAC,EAAE;YACzC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YAEjC,OAAO,KAAK,CAAC;SACd;QAED,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAhBD,8BAgBC;;;;;;;;;;;;;;;AClBD,4FAA6C;AAE7C,MACa,WAAW;IACtB,YACmB,MAAc,EACd,cAA8B;QAD9B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;IAC7C,CAAC;IAEL,WAAW,CAAC,KAA6B,EAAE,KAA0B;QACnE,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,mBAAO,CAAC,EAAE;YACxC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YAElC,OAAO,KAAK,CAAC;SACd;QAED,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAhBD,kCAgBC;;;;;;;;;;;;;;;ACjBD,4FAA6C;AAE7C,MACa,cAAc;IACzB,YACmB,cAA8B;QAA9B,mBAAc,GAAd,cAAc,CAAgB;IAC9C,CAAC;IAEJ,SAAS,CAAC,OAAyB,EAAE,IAAiB;QACpD,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QAEtE,MAAM,GAAG,GAAW,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,mBAAO,CAAC,CAAC;QAEzD,IAAI,GAAG,EAAE;YACP,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,UAAU,GAAG,EAAE,CAAC,CAAC;SACzD;QAED,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;QAE3C,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;CACF;AAnBD,wCAmBC;;;;;;;;;;;;;;;ACxBD,MAAa,YAAY;IACvB,YAA6B,mBAA4B;QAA5B,wBAAmB,GAAnB,mBAAmB,CAAS;IAAG,CAAC;IAE7D,OAAO,CAAC,GAAW;QACjB,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;YAC7B,OAAO;SACR;QAED,OAAO,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACnC,CAAC;IAED,OAAO,CAAC,GAAW,EAAE,KAAa;QAChC,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;YAC7B,OAAO;SACR;QAED,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,UAAU,CAAC,GAAW;QACpB,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;YAC7B,OAAO;SACR;QAED,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IAC/B,CAAC;CACF;AA1BD,oCA0BC;;;;;;;;;;;;;;;AC1BD,wIAAuD;AAE1C,2BAAmB,GAAe;IAC7C;QACE,OAAO,EAAE,4BAAS;QAClB,QAAQ,EAAE,4BAAS;KACpB;CACF,CAAC;;;;;;;;;;;;;;;ACNF,8IAA4D;AAC5D,+EAAoD;AAEpD,MACa,cAAc;IAGzB,YACuC,UAAkB;QAAlB,eAAU,GAAV,UAAU,CAAQ;QAEvD,MAAM,mBAAmB,GAAY,0BAAiB,CAAC,UAAU,CAAC,CAAC;QAEnE,IAAI,CAAC,OAAO,GAAG,IAAI,iCAAY,CAAC,mBAAmB,CAAC,CAAC;IACvD,CAAC;IAED,OAAO,CAAC,GAAW;QACjB,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACnC,CAAC;IAED,OAAO,CAAC,GAAW,EAAE,KAAa;QAChC,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAC1C,CAAC;IAED,UAAU,CAAC,GAAW;QACpB,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IACtC,CAAC;CACF;AAvBD,wCAuBC;;;;;;;;;;;;;;;AC7BD,yEAA8D;AAC9D,+EAA+C;AAC/C,+EAA+C;AAC/C,4EAAkE;AAClE,qHAAgD;AAChD,sJAAsE;AACtE,uFAAyD;AACzD,gJAAgE;AAChE,2HAAoD;AACpD,wIAA4D;AAE5D,MAAM,OAAO,GAAG,CAAC,qBAAY,EAAE,qBAAY,EAAE,mBAAW,EAAE,2BAAmB,CAAC,CAAC;AAE/E,MAAM,MAAM,GAAG,CAAC,sBAAS,EAAE,0BAAW,CAAC,CAAC;AAExC,MAAM,SAAS,GAAG,CAAC,GAAG,yCAAmB,CAAC,CAAC;AAE3C,MAAM,QAAQ,GAAG,CAAC,gCAAc,CAAC,CAAC;AAElC,MAAM,YAAY,GAAG;IACnB;QACE,OAAO,EAAE,wBAAiB;QAC1B,QAAQ,EAAE,gCAAc;QACxB,KAAK,EAAE,IAAI;KACZ;CACF,CAAC;AAEF,MAIa,YAAY;IACvB,MAAM,CAAC,OAAO;QACZ,OAAO;YACL,QAAQ,EAAE,YAAY;YACtB,SAAS,EAAE;gBACT,GAAG,MAAM;gBACT,GAAG,SAAS;gBACZ,GAAG,YAAY;gBACf,GAAG,QAAQ;aACZ;SACF;IACH,CAAC;CACF;AAhBD,oCAgBC;;;;;;;;;;;;;;;;;AC3CD,+GAA0D;AAAjD,6DAAe;;;;;;;;;;;;;;;;;;;;;;;;;ACAxB,gD;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,4C;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,4C;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,2C","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","<router-outlet></router-outlet>","import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    loadChildren: () => import(\"./modules/auth/auth.module\").then(m => m.AuthModule)\n  },\n  {\n    path: \"busses\",\n    loadChildren: () => import(\"./modules/busses/busses.module\").then(m => m.BussesModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","<router-outlet></router-outlet>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'busses';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { SharedModule } from './modules/shared/shared.module';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule.withServerTransition({ appId: 'busses' }),\n    AppRoutingModule,\n    HttpClientModule,\n    SharedModule.forRoot()\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { NgModule } from '@angular/core';\r\nimport { ServerModule, ServerTransferStateModule } from '@angular/platform-server';\r\nimport { ModuleMapLoaderModule } from '@nguniversal/module-map-ngfactory-loader';\r\n\r\nimport { AppModule } from './app.module';\r\nimport { AppComponent } from './app.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    AppModule,\r\n    ServerModule,\r\n    ServerTransferStateModule,\r\n    ModuleMapLoaderModule\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppServerModule {}\r\n","export const JWT_KEY: string = 'JwtKey';\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { AuthRoutingModule } from './auth.routing.module';\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { AuthService } from './services/auth.service';\r\nimport { RegisterComponent } from './components/register/register.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [SharedModule, AuthRoutingModule],\r\n  declarations: [LoginComponent, RegisterComponent],\r\n  providers: [AuthService]\r\n})\r\nexport class AuthModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { RegisterComponent } from './components/register/register.component';\r\nimport { UnauthGuard } from '../shared/guards/unauth.guard';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'login'\r\n  },\r\n  {\r\n    path: 'login',\r\n    component: LoginComponent,\r\n    canActivate: [UnauthGuard]\r\n  },\r\n  {\r\n    path: 'register',\r\n    component: RegisterComponent,\r\n    canActivate: [UnauthGuard]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule {}\r\n","<div class=\"responsive-flex-wrapper\">\r\n  <div class=\"form-wrapper\">\r\n    <div class=\"form-title\">Login</div>\r\n\r\n    <form [formGroup]=\"loginForm\">\r\n      <div class=\"form-group\">\r\n        <label for=\"login-email\">Email address</label>\r\n        <input type=\"email\" class=\"form-control\" id=\"login-email\" placeholder=\"Email\" formControlName=\"email\"/>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"login-password\">Password</label>\r\n        <input type=\"password\" class=\"form-control\" id=\"login-password\" placeholder=\"Password\" formControlName=\"password\" />\r\n      </div>\r\n      <button class=\"btn btn-primary float-right\" [disabled]=\"!loginForm.valid\" (click)=\"onLogin()\">Login</button>\r\n      <button class=\"btn btn-success float-right mr-2\" [routerLink]=\"['/register']\">Register</button>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\n\r\nexport class LoginComponent implements OnInit {\r\n  loginForm: FormGroup = new FormGroup({\r\n    email: new FormControl('', [Validators.required, Validators.email]),\r\n    password: new FormControl('', [Validators.required])\r\n  });\r\n\r\n  constructor(\r\n    private readonly authService: AuthService,\r\n    private readonly router: Router\r\n  ) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onLogin() {\r\n    const email: string = this.loginForm.controls['email'].value;\r\n    const password: string = this.loginForm.controls['password'].value;\r\n\r\n    this.authService.login(email, password)\r\n      .subscribe(() => {\r\n        this.router.navigate(['/busses']);\r\n      });\r\n  }\r\n}\r\n","<div class=\"responsive-flex-wrapper\">\r\n  <div class=\"form-wrapper\">\r\n    <div class=\"form-title\">Register</div>\r\n\r\n    <form [formGroup]=\"registerForm\">\r\n      <div class=\"form-group\">\r\n        <label for=\"register-email\">Email address</label>\r\n        <input type=\"email\" class=\"form-control\" id=\"register-email\" placeholder=\"Email\" formControlName=\"email\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"register-passowrd\">Password</label>\r\n        <input type=\"password\" class=\"form-control\" id=\"register-passowrd\" placeholder=\"Password\" formControlName=\"password\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"register-confirm-passowrd\">Confirm Password</label>\r\n        <input type=\"password\" class=\"form-control\" id=\"register-confirm-passowrd\" placeholder=\"Confirm Password\" formControlName=\"confirmPassword\" />\r\n      </div>\r\n      <button class=\"btn btn-primary float-right\" [disabled]=\"!registerForm.valid\" (click)=\"onRegister()\">Register</button>\r\n      <button class=\"btn btn-success float-right mr-2\" [routerLink]=\"['/login']\">Login</button>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.scss']\r\n})\r\n\r\nexport class RegisterComponent implements OnInit {\r\n  registerForm: FormGroup = new FormGroup({\r\n    email: new FormControl('', [Validators.required, Validators.email]),\r\n    password: new FormControl('', [Validators.required]),\r\n    confirmPassword: new FormControl('', [Validators.required])\r\n  });\r\n  \r\n  constructor(\r\n    private readonly authService: AuthService,\r\n    private readonly router: Router\r\n  ) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onRegister() {\r\n    const email: string = this.registerForm.controls['email'].value;\r\n    const password: string = this.registerForm.controls['password'].value;\r\n    const confirmPassword: string = this.registerForm.controls['confirmPassword'].value;\r\n\r\n    if (password !== confirmPassword) {\r\n      return;\r\n    }\r\n\r\n    this.authService.register(email, password)\r\n      .subscribe(() => {\r\n        this.router.navigate(['/busses']);\r\n      });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { Constants } from '../../shared/config/constants.config';\r\nimport { AuthResponseDTO } from '../dto/authResponse.dto';\r\nimport { StorageService } from '../../shared/services/storage.service';\r\nimport { JWT_KEY } from '../../../constants';\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n  constructor(\r\n    private readonly httpClient: HttpClient,\r\n    private readonly constants: Constants,\r\n    private readonly storageService: StorageService\r\n  ) { }\r\n\r\n  register(email: string, password: string): Observable<AuthResponseDTO> {\r\n    return this.httpClient.post<AuthResponseDTO>(`${this.constants.apiURL}/auth/local/signup`, { email, password }).pipe(\r\n      map(response => {\r\n        this.storageService.setItem(JWT_KEY, response.token);\r\n\r\n        return response;\r\n      })\r\n    );\r\n  }\r\n\r\n  login(email: string, password: string): Observable<AuthResponseDTO> {\r\n    return this.httpClient.post<AuthResponseDTO>(`${this.constants.apiURL}/auth/local/signin`, { email, password }).pipe(\r\n      map(response => {\r\n        this.storageService.setItem(JWT_KEY, response.token);\r\n\r\n        return response;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from \"@angular/core\";\r\n\r\nimport { BussesRoutingModule } from './busses.routing.module';\r\nimport { BussesComponent } from './components/busses/busses.component';\r\nimport { LinesComponent } from './components/lines/lines.component';\r\nimport { BussesService } from './services/busses.service';\r\nimport { AdminComponent } from './components/admin/admin.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    BussesRoutingModule\r\n  ],\r\n  providers: [\r\n    BussesService\r\n  ],\r\n  declarations: [\r\n    BussesComponent,\r\n    LinesComponent,\r\n    AdminComponent\r\n  ]\r\n})\r\nexport class BussesModule {}\r\n","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { BussesComponent } from './components/busses/busses.component';\r\nimport { AuthGuard } from '../shared/guards/auth.guard';\r\nimport { AdminComponent } from './components/admin/admin.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BussesComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'admin',\r\n    component: AdminComponent,\r\n    canActivate: [AuthGuard]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ]\r\n})\r\nexport class BussesRoutingModule {}\r\n","<div class=\"row\">\r\n  <div class=\"col-8\">\r\n    <input #lineInput type=\"text\" class=\"form-control\" placeholder=\"Line Title\">\r\n  </div>\r\n  <div class=\"col-4\">\r\n    <button type=\"button\" class=\"btn btn-block btn-success\" (click)=\"onCreateLine()\">Create Line</button>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row\" *ngFor=\"let line of lines | async\">\r\n  <div class=\"col-12\">{{ line.title }}</div>\r\n</div>\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\n\r\nimport { BussesService } from '../../services/busses.service';\r\nimport { LineViewModel } from '../../viewModels/line.viewModel';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-admin-component',\r\n  templateUrl: './admin.component.html',\r\n  styleUrls: ['./admin.component.scss']\r\n})\r\n\r\nexport class AdminComponent implements OnInit {\r\n  @ViewChild('lineInput', { static: true }) lineInput: ElementRef<HTMLInputElement>;\r\n\r\n  lines: Observable<LineViewModel[]>;\r\n\r\n  constructor(\r\n    private readonly bussesService: BussesService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.initLines();\r\n  }\r\n\r\n  onCreateLine() {\r\n    const title = this.lineInput.nativeElement.value;\r\n\r\n    this.bussesService.createLine({ title })\r\n      .subscribe(() => {\r\n        this.initLines();\r\n      });\r\n  }\r\n\r\n  initLines() {\r\n    this.lines = this.bussesService.getLines();\r\n  }\r\n\r\n  init() {\r\n    this.initLines();\r\n  }\r\n}\r\n","<app-lines></app-lines>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { BussesService } from '../../services/busses.service';\r\n\r\n@Component({\r\n  selector: 'app-busses',\r\n  templateUrl: './busses.component.html',\r\n  styleUrls: ['./busses.component.scss']\r\n})\r\n\r\nexport class BussesComponent implements OnInit {\r\n  constructor(\r\n    private readonly bussesService: BussesService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    \r\n  }\r\n}\r\n","<a *ngFor=\"let line of lines\">\r\n  <button class=\"btn on\">{{ line }}</button>\r\n</a>\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-lines\",\r\n  templateUrl: \"./lines.component.html\",\r\n  styleUrls: [\"./lines.component.scss\"]\r\n})\r\nexport class LinesComponent implements OnInit {\r\n  lines: number[] = [1, 4, 6, 7, 9, 10, 11, 12, 15, 16, 17, 18, 20, 21, 22, 24, 25, 26, 27, 29, 36, 37, 44, 66, 93, 99, 113, 116, 222];\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { Constants } from '../../shared/config/constants.config';\r\nimport { CreateBusDTO } from '../dto/createBus.dto';\r\nimport { BusViewModel } from '../viewModels/bus.viewModel';\r\nimport { CreateBussesBusStopsDTO } from '../dto/createBussesBusStops.dto';\r\nimport { BussesBusStopsViewModel } from '../viewModels/bussesBusStops.viewModel';\r\nimport { CreateBusStopDTO } from '../dto/createBusStop.dto';\r\nimport { BusStopViewModel } from '../viewModels/busStop.viewModel';\r\nimport { CreateLineDTO } from '../dto/createLine.dto';\r\nimport { LineViewModel } from '../viewModels/line.viewModel';\r\nimport { CreateUsersBussesDTO } from '../dto/createUsersBusses.dto';\r\nimport { UsersBussesViewModel } from '../viewModels/usersBusses.viewModel';\r\n\r\n@Injectable()\r\nexport class BussesService {\r\n  constructor(\r\n    private readonly httpClient: HttpClient,\r\n    private readonly constants: Constants\r\n  ) { }\r\n\r\n  createBus(createBusDTO: CreateBusDTO): Observable<BusViewModel> {\r\n    return this.httpClient.post<BusViewModel>(`${this.constants.apiURL}/Busses`, createBusDTO);\r\n  }\r\n\r\n  deleteBus(id: string): Observable<BusViewModel> {\r\n    return this.httpClient.request<BusViewModel>('delete' , `${this.constants.apiURL}/Busses`, { body: { id }});\r\n  }\r\n\r\n  getBusses(lineId?: string): Observable<BusViewModel[]> {\r\n    return this.httpClient.post<BusViewModel[]>(`${this.constants.apiURL}/Busses/all`, { lineId });\r\n  }\r\n\r\n  getBus(id: string): Observable<BusViewModel> {\r\n    return this.httpClient.get<BusViewModel>(`${this.constants.apiURL}/Busses/${id}`);\r\n  }\r\n\r\n  createBussesBusStops(createBussesBusStopsDTO: CreateBussesBusStopsDTO): Observable<BussesBusStopsViewModel> {\r\n    return this.httpClient.post<BussesBusStopsViewModel>(`${this.constants.apiURL}/BussesBusStops`, createBussesBusStopsDTO);\r\n  }\r\n\r\n  deleteBussesBusStops(id: string): Observable<BussesBusStopsViewModel> {\r\n    return this.httpClient.request<BussesBusStopsViewModel>('delete' , `${this.constants.apiURL}/BussesBusStops`, { body: { id }});\r\n  }\r\n\r\n  getBussesBusStopsByBusId(busId: string): Observable<BussesBusStopsViewModel[]> {\r\n    return this.httpClient.post<BussesBusStopsViewModel[]>(`${this.constants.apiURL}/BussesBusStops/busStops`, { busId });\r\n  }\r\n\r\n  getBussesBusStopsByBusStopId(busStopId: string): Observable<BussesBusStopsViewModel[]> {\r\n    return this.httpClient.post<BussesBusStopsViewModel[]>(`${this.constants.apiURL}/BussesBusStops/busses`, { busStopId });\r\n  }\r\n\r\n  createBusStop(createBusStopDTO: CreateBusStopDTO): Observable<BusStopViewModel> {\r\n    return this.httpClient.post<BusStopViewModel>(`${this.constants.apiURL}/BusStops`, createBusStopDTO);\r\n  }\r\n\r\n  deleteBusStop(id: string): Observable<BusStopViewModel> {\r\n    return this.httpClient.request<BusStopViewModel>('delete' , `${this.constants.apiURL}/BusStps`, { body: { id }});\r\n  }\r\n\r\n  getBusStops(): Observable<BusStopViewModel[]> {\r\n    return this.httpClient.get<BusStopViewModel[]>(`${this.constants.apiURL}/BusStops`);;\r\n  }\r\n\r\n  getBusStop(id: string): Observable<BusStopViewModel> {\r\n    return this.httpClient.get<BusStopViewModel>(`${this.constants.apiURL}/BusStops/${id}`);\r\n  }\r\n\r\n  createLine(createLineDTO: CreateLineDTO): Observable<LineViewModel> {\r\n    return this.httpClient.post<LineViewModel>(`${this.constants.apiURL}/Lines`, createLineDTO);\r\n  }\r\n\r\n  deleteLine(id: string): Observable<LineViewModel> {\r\n    return this.httpClient.request<LineViewModel>('delete' , `${this.constants.apiURL}/Lines`, { body: { id }});\r\n  }\r\n\r\n  getLines(): Observable<LineViewModel[]> {\r\n    return this.httpClient.get<LineViewModel[]>(`${this.constants.apiURL}/Lines`);;\r\n  }\r\n\r\n  getLine(id: string): Observable<LineViewModel> {\r\n    return this.httpClient.get<LineViewModel>(`${this.constants.apiURL}/Lines/${id}`);\r\n  }\r\n\r\n  createUsersBusses(createUsersBussesDTO: CreateUsersBussesDTO): Observable<UsersBussesViewModel> {\r\n    return this.httpClient.post<UsersBussesViewModel>(`${this.constants.apiURL}/UsersBusses`, createUsersBussesDTO);\r\n  }\r\n\r\n  deleteUsersBusses(id: string): Observable<UsersBussesViewModel> {\r\n    return this.httpClient.request<UsersBussesViewModel>('delete' , `${this.constants.apiURL}/UsersBusses`, { body: { id }});\r\n  }\r\n}\r\n","export class Constants {\r\n  apiURL: string = 'http://localhost:1337/api';\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot, Router } from '@angular/router';\r\n\r\nimport { StorageService } from '../services/storage.service';\r\nimport { JWT_KEY } from '../../../constants';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(\r\n    private readonly router: Router,\r\n    private readonly storageService: StorageService\r\n  ) { }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    if (!this.storageService.getItem(JWT_KEY)) {\r\n      this.router.navigate(['/login']);\r\n\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot, Router } from '@angular/router';\r\n\r\nimport { StorageService } from '../services/storage.service';\r\nimport { JWT_KEY } from '../../../constants';\r\n\r\n@Injectable()\r\nexport class UnauthGuard implements CanActivate {\r\n  constructor(\r\n    private readonly router: Router,\r\n    private readonly storageService: StorageService\r\n  ) { }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    if (this.storageService.getItem(JWT_KEY)) {\r\n      this.router.navigate(['/busses']);\r\n\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { StorageService } from '../services/storage.service';\r\nimport { JWT_KEY } from '../../../constants';\r\n\r\n@Injectable()\r\nexport class JwtInterceptor implements HttpInterceptor {\r\n  constructor(\r\n    private readonly storageService: StorageService\r\n  ) {}\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    let headers = request.headers.set('Content-Type', 'application/json');\r\n\r\n    const jwt: string = this.storageService.getItem(JWT_KEY);\r\n\r\n    if (jwt) {\r\n      headers = headers.set('Authorization', `Bearer ${jwt}`);\r\n    }\r\n\r\n    const authReq = request.clone({ headers });\r\n\r\n    return next.handle(authReq);\r\n  }\r\n}\r\n","import { IStorage } from '../interfaces/storage.interface';\r\n\r\nexport class LocalStorage implements IStorage {\r\n  constructor(private readonly runningInTheBrowser: boolean) {}\r\n\r\n  getItem(key: string): string {\r\n    if (!this.runningInTheBrowser) {\r\n      return;\r\n    }\r\n    \r\n    return localStorage.getItem(key);\r\n  }\r\n\r\n  setItem(key: string, value: string): void {\r\n    if (!this.runningInTheBrowser) {\r\n      return;\r\n    }\r\n    \r\n    localStorage.setItem(key, value);\r\n  }\r\n\r\n  removeItem(key: string): void {\r\n    if (!this.runningInTheBrowser) {\r\n      return;\r\n    }\r\n    \r\n    localStorage.removeItem(key);\r\n  }\r\n}\r\n","import { Provider } from '@angular/core';\r\n\r\nimport { Constants } from '../config/constants.config';\r\n\r\nexport const CONSTANTS_PROVIDERS: Provider[] = [\r\n  {\r\n    provide: Constants,\r\n    useClass: Constants\r\n  }\r\n];\r\n","import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\r\n\r\nimport { IStorage } from '../interfaces/storage.interface';\r\nimport { LocalStorage } from '../models/localStorage.model';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\n@Injectable()\r\nexport class StorageService implements IStorage {\r\n  storage: IStorage;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) public readonly platformId: Object\r\n  ) {\r\n    const runningInTheBrowser: boolean = isPlatformBrowser(platformId);\r\n\r\n    this.storage = new LocalStorage(runningInTheBrowser);\r\n  }\r\n\r\n  getItem(key: string): string {\r\n    return this.storage.getItem(key);\r\n  }\r\n\r\n  setItem(key: string, value: string): void {\r\n    return this.storage.setItem(key, value);\r\n  }\r\n\r\n  removeItem(key: string): void {\r\n    return this.storage.removeItem(key);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AuthGuard } from './guards/auth.guard';\r\nimport { CONSTANTS_PROVIDERS } from './providers/constants.providers';\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { JwtInterceptor } from './interceptors/jwt.interceptor';\r\nimport { UnauthGuard } from './guards/unauth.guard';\r\nimport { StorageService } from './services/storage.service';\r\n\r\nconst MODULES = [CommonModule, RouterModule, FormsModule, ReactiveFormsModule];\r\n\r\nconst GUARDS = [AuthGuard, UnauthGuard];\r\n\r\nconst PROVIDERS = [...CONSTANTS_PROVIDERS];\r\n\r\nconst SERVICES = [StorageService];\r\n\r\nconst INTERCEPTORS = [\r\n  {\r\n    provide: HTTP_INTERCEPTORS,\r\n    useClass: JwtInterceptor,\r\n    multi: true\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [...MODULES],\r\n  exports: [...MODULES]\r\n})\r\nexport class SharedModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: SharedModule,\r\n      providers: [\r\n        ...GUARDS,\r\n        ...PROVIDERS,\r\n        ...INTERCEPTORS,\r\n        ...SERVICES\r\n      ]\r\n    }\r\n  }\r\n}\r\n","export { AppServerModule } from './app/app.server.module';\r\n","module.exports = require(\"@angular/animations\");","module.exports = require(\"@angular/animations/browser\");","module.exports = require(\"@angular/common\");","module.exports = require(\"@angular/common/http\");","module.exports = require(\"@angular/core\");","module.exports = require(\"@angular/forms\");","module.exports = require(\"@angular/platform-browser\");","module.exports = require(\"@angular/platform-browser/animations\");","module.exports = require(\"@angular/platform-server\");","module.exports = require(\"@angular/router\");","module.exports = require(\"@nguniversal/module-map-ngfactory-loader\");","module.exports = require(\"rxjs/operators\");"],"sourceRoot":"webpack:///"}